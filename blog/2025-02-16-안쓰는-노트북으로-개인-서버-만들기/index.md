---
slug: personal_server
title : '안쓰는 노트북으로 개인 서버 만들기💻'
authors : eunsung
tag: side-project
---

작업중이던 앱이 대략적으로 완성되었다. 얼마전 의도치 않은 AWS 요금 폭탄을 맞고(미리 요금 모니터링을 안 한내 잘못이 맞ㄷㅏ…), 이번에는 개인 컴퓨터에 배포해보면 어떨까 하는 생각이 들었다.  

중고로 팔려고 언젠가부터 창고 한켠에 쳐박아두었던 맥북 프로가 생각났다. 이 랩톱을 사용해서 서버를 구성하고, 앱을 배포하기 위해 필요한 부분들은 다음과 같다.  

1. 리눅스 서버 셋팅(가장 일반적인 셋팅이 가장 쉬운 방법..!)
2. **랩톱 서버가 외부에서도 접근이 가능하도록 셋팅**
3. 앱 배포(가능하다면 CI/CD 구성도..!)

<br></br>

서버 셋팅과 앱 배포 부분은 친절히 설명된 글들이 많기 때문에, 이번 글에서는 2번, 개인 서버가 외부에서도 접근이 가능하도록 셋팅하는 방법에 대해서 알아보고자 한다.    

우선 외부에서 우리 서버에 접속하려면 주소가 필요하다. 이 주소는 고정 IP 또는 동적 DNS로 특정될 수 있다. (여기서 IP는 외부에서 우리 서버를 바라보는 공인 IP..!) 랩톱은 와이파이를 통해 연결이 되고, 가정용 인터넷 서비스는 대부분의 경우 동적 IP를 할당한다.(고정 IP를 할당받기 위해서는 추가적인 비용이 필요하다.) 왜 동적 IP를 할당하냐면, 인터넷 서비스 업체들(ISP)이 수익을 최대화하기 위해서라고 할 수 있다. 접속을 끊은 사용자들의 IP는 거둬들이고, 접속한 사용자들에게 다시 할당하는 방식으로 한정된 IP주소들을 최대한 활용하는 방법이다.  

<br></br>

외부에서 계속해서 바뀌는 동적 IP 주소를 접근하도록 하기 위해서는 동적 DNS 서비스가 필요하다. DNS(Domain Name System)는 서버의 이름과 IP를 매칭해서 관리하는 시스템이라고 보면된다. 서버의 이름을 설정해놓고, 서버에 DNS가 제공하는 소프트웨어를 설치해놓으면 지속적으로 변경되는 IP를 DNS에서 추적해서 업데이트해준다. (무료로 DNS를 활용할 수 있는 [사이트](https://freedns.afraid.org/)들이 있다)  

<br></br>

이렇게 DNS로 외부에서 접속할 수 있는 IP를 설정했다면, 이제 서버에서 실행되고 있는 서비스를 외부에서 연결할 수 있도록 포트 포워딩이 필요하다. 우리의 서버 IP로 접속한 사용자가 공유기까지 접근했을 때, 공유기에 연결된 기기 중 어디로 연결이 되어야할지 알려주는 용도라고 보면 된다. 포트 포워딩은 공유기에 접속해서 외부포트와 내부포트를 연결해주면 된다.  

<br></br>

이렇게 외부에서 접근가능한 개인서버의 네트워크 설정이 완료되었다. 이 맥북 프로를 팔았을 때 중고가격(서버로 운용한다면 사용가능한 수명이 확 떨어지지 않을까…), 24시간 운용했을 때 발생하는 전기비 등 클라우드 서비스 비용과 비교해봤을 때 개인 서버 운용이 과연 경제적인가 하는 질문에 대해서는 좀 더 지켜봐야겠지만, 서버를 구성하면서 나름 네트워크 공부도 하고 나만의 서버를 구성한다는 것 자체가 즐거웠다. 이 외에 도메인 구매, SSL설정 같은 부분도 작업해봐야겠다.

